<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aneka Digital - Solusi Cetak Modern & Profesional</title>
    <meta name="description" content="Jasa cetak foto, edit foto, undangan, cetak CD, dan ID card. Profesional, bersih, dan cepat. Hubungi kami via WhatsApp.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- CSS Reset & Variabel (TEMA MODERN MEWAH) --- */
        :root {
            --primary-color: #0A4D98; /* Biru Navy (Profesional/Mewah) */
            --secondary-color: #083A75; /* Biru Lebih Tua (Untuk Hover) */
            --dark-text: #333333;
            --light-text: #666666;
            --white-color: #FFFFFF;
            --light-gray: #f8f9fa;
            --border-color: #e9ecef;
            --whatsapp-color: #25D366;
            --error-color: #dc3545;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            line-height: 1.7;
            color: var(--dark-text);
            background: var(--white-color);
        }

        .container {
            width: 90%;
            max-width: 1100px;
            margin: 0 auto;
        }

        /* --- Header & Navigasi (Bersih & Modern) --- */
        header {
            background: var(--white-color);
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo span {
            color: var(--dark-text);
            font-weight: 500;
        }

        nav ul {
            display: flex;
            list-style: none;
            align-items: center;
        }

        nav li {
            margin-left: 2.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--light-text);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
            padding-bottom: 5px;
        }

        nav a:hover {
            color: var(--primary-color);
        }

        /* Tombol CTA di Navigasi */
        .nav-cta {
            background: var(--primary-color);
            color: var(--white-color) !important;
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-cta:hover {
            background: var(--secondary-color);
            color: var(--white-color) !important;
            transform: translateY(-2px);
        }

        /* --- Tombol Hamburger (Canggih) --- */
        .hamburger {
            display: none;
            cursor: pointer;
            flex-direction: column;
            gap: 5px;
        }
        
        .hamburger .bar {
            width: 25px;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        /* --- Hero Section (Bersih & Profesional) --- */
        #hero {
            display: flex;
            align-items: center;
            min-height: 80vh;
            padding-top: 100px; /* Offset header */
            background: var(--light-gray); /* Latar belakang cerah */
        }
        
        #hero .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 3rem;
        }

        .hero-content {
            flex-basis: 55%;
        }

        .hero-image {
            flex-basis: 40%;
            text-align: center;
        }

        .hero-image img {
            max-width: 100%;
            border-radius: 10px;
            content: url('https://i.imgur.com/731UDrZ.jpeg');
        }

        #hero h1 {
            font-size: 3.2rem; /* Ukuran pas */
            font-weight: 700;
            color: var(--dark-text);
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }
        
        #hero h1 span {
            color: var(--primary-color);
        }

        #hero .subheadline {
            font-size: 1.2rem;
            font-weight: 400;
            color: var(--light-text);
            margin-bottom: 2.5rem;
            max-width: 500px;
        }

        .cta-button {
            background: var(--primary-color);
            color: var(--white-color);
            padding: 0.9rem 2.2rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(10, 77, 152, 0.2);
            border: none;
            cursor: pointer;
        }
        
        .cta-button:disabled {
            background: var(--light-text);
            cursor: not-allowed;
        }

        .cta-button:hover:not(:disabled) {
            background: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(10, 77, 152, 0.3);
        }

        /* --- Section Umum --- */
        section {
            padding: 5rem 0;
        }

        section:nth-child(even) {
            background: var(--light-gray);
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark-text);
            margin-bottom: 1rem;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: var(--light-text);
            margin-bottom: 3.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* --- [PERBAIKAN] Layanan Section (Layout Diperbaiki) --- */
        .services-grid {
            display: grid;
            grid-template-columns: 1fr; /* Default 1 kolom (mobile) */
            gap: 2rem;
        }

        /* Tablet view: 2 kolom */
        @media (min-width: 600px) {
            .services-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Desktop view: 4 kolom */
        @media (min-width: 1024px) {
            .services-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .service-card {
            background: var(--white-color);
            padding: 2rem;
            text-align: left; /* Lebih profesional */
            border-radius: 10px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 25px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border-left: 4px solid var(--border-color);
        }

        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary-color);
        }

        .service-card .icon-svg {
            width: 45px;
            height: 45px;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }
        
        .service-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 0.5rem;
        }
        
        .service-card p {
            font-size: 0.95rem;
            color: var(--light-text);
        }

        /* --- Cara Pesan (#order) --- */
        .order-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .step-card {
            background: var(--light-gray);
            padding: 2.5rem 2rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .step-card .step-number {
            display: inline-block;
            width: 50px;
            height: 50px;
            line-height: 50px;
            border-radius: 50%;
            background: var(--primary-color);
            color: var(--white-color);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }
        
        .step-card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 0.5rem;
        }
        
        .step-card p {
            font-size: 0.95rem;
            color: var(--light-text);
        }

        /* --- Galeri (Efek Hover Bersih) --- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid var(--border-color);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
            transition: transform 0.4s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }
        
        /* --- Form Pemesanan --- */
        #form-pemesanan {
            max-width: 900px;
            margin: 0 auto;
            background: var(--white-color);
            padding: 3rem;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            border: 1px solid var(--border-color);
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .form-group.hidden {
            display: none;
        }

        .form-group-full {
            grid-column: 1 / -1;
        }
        
        .form-group label {
            font-weight: 600;
            color: var(--dark-text);
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.9rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(10, 77, 152, 0.15);
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-group .note {
            font-size: 0.85rem;
            color: var(--light-text);
        }

        .form-group.error input,
        .form-group.error select {
            border-color: var(--error-color);
        }

        .form-group .error-message {
            font-size: 0.85rem;
            color: var(--error-color);
            display: none;
        }

        .form-group.error .error-message {
            display: block;
        }

        /* --- [PERBAIKAN] Helper Button Maps --- */
        .label-with-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: -0.25rem; /* Adjust spacing */
        }
        
        .button-helper {
            background: var(--light-gray);
            border: 1px solid var(--border-color);
            color: var(--primary-color);
            font-size: 0.85rem;
            font-weight: 600;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .button-helper:hover:not(:disabled) {
            background: var(--border-color);
        }
        
        .button-helper:disabled {
            background: var(--light-gray);
            color: var(--light-text);
            cursor: wait;
        }


        /* --- [PERBAIKAN BESAR] Modal Nota (Desain Profesional Baru) --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: var(--white-color);
            padding: 0; /* Padding diatur di header/body/footer */
            border-radius: 10px;
            width: 90%;
            max-width: 750px; /* Sedikit lebih lebar */
            max-height: 90vh;
            overflow: hidden; /* Kontrol overflow di body */
            display: flex;
            flex-direction: column;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
        
        /* Header Modal (Layar) */
        .modal-header {
            padding: 1.5rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-header h2 {
            color: var(--primary-color);
            font-size: 1.6rem;
        }
        
        .modal-close-btn {
            font-size: 2.2rem;
            color: var(--light-text);
            background: none;
            border: none;
            cursor: pointer;
            line-height: 1;
        }
        
        /* Body Nota (Layar & Cetak) */
        .nota-body {
            font-size: 1rem;
            padding: 2.5rem;
            overflow-y: auto;
            flex-grow: 1;
            background: var(--light-gray);
        }
        
        .nota-body-content {
            background: var(--white-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03);
        }

        /* Header Nota Baru (Layar) */
        .nota-brand-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 2rem;
            border-bottom: 2px solid var(--border-color);
        }
        
        .nota-brand-logo {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        .nota-brand-logo span {
            color: var(--dark-text);
            font-weight: 500;
        }
        
        .nota-brand-code {
            text-align: right;
        }
        .nota-brand-code strong {
            display: block;
            font-size: 0.95rem;
            color: var(--light-text);
            font-weight: 500;
            margin-bottom: 0.25rem;
        }
        .nota-brand-code span {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-text);
            background: var(--light-gray);
            padding: 5px 12px;
            border-radius: 5px;
        }
        
        .nota-section {
            padding: 2rem;
        }
        .nota-section:not(:last-child) {
            border-bottom: 1px solid var(--border-color);
        }
        
        .nota-section h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark-text);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        /* Layout Tabel Nota Baru */
        .nota-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .nota-table tbody tr {
            border-bottom: 1px solid var(--border-color);
        }
        .nota-table tbody tr:last-child {
            border-bottom: none;
        }
        
        .nota-table td {
            padding: 0.9rem 0.5rem;
            vertical-align: top;
            line-height: 1.6;
        }
        
        /* Kolom label */
        .nota-table td:first-child {
            font-weight: 600;
            color: var(--dark-text);
            width: 35%;
            min-width: 150px;
        }
        
        /* Kolom value */
        .nota-table td:last-child {
            font-weight: 500;
            color: var(--light-text);
            word-break: break-word; /* Agar link panjang tidak merusak layout */
        }
        
        .nota-table a {
            color: var(--primary-color);
            font-weight: 600;
            text-decoration: none;
        }
        .nota-table a:hover {
            text-decoration: underline;
        }
        
        /* Box Catatan Baru */
        .nota-catatan-box {
            color: var(--light-text);
            font-size: 0.95rem;
            line-height: 1.7;
            white-space: pre-wrap; /* Menghargai baris baru dari textarea */
            padding: 0.5rem;
        }
        
        /* Footer Modal (Layar) */
        .modal-footer {
            padding: 1.5rem 2.5rem;
            border-top: 1px solid var(--border-color);
            background: var(--white-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-footer p {
            font-size: 0.9rem;
            color: var(--light-text);
            text-align: left;
            margin: 0;
        }
        
        .cta-button-secondary {
            background: var(--light-gray);
            color: var(--dark-text);
            padding: 0.8rem 1.8rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            cursor: pointer;
            margin-left: 1rem;
        }
        .cta-button-secondary:hover {
            background: var(--border-color);
        }
        
        /* --- [PERBAIKAN BESAR] Gaya Khusus untuk Cetak (Download PDF) --- */
        
        /* Elemen khusus cetak (default tersembunyi) */
        .nota-print-header, .nota-print-footer {
            display: none;
        }
        
        @media print {
            body, html {
                background: #FFF;
                color: #000;
                width: 100%;
            }
            
            /* Sembunyikan semua elemen di halaman KECUALI konten nota */
            body * {
                visibility: hidden;
            }
            #modal-nota-content-printable, #modal-nota-content-printable * {
                visibility: visible;
            }
            
            /* Sembunyikan UI Modal (Tombol close, footer, dll) */
            .modal-header, .modal-footer, .nota-brand-header {
                display: none !important;
            }
            
            /* Atur ulang posisi & style modal agar pas 1 halaman */
            .modal-overlay {
                position: static;
                background: none;
            }
            .modal-content {
                width: 100%;
                max-width: 100%;
                max-height: none;
                height: auto;
                border: 1px solid #AAA;
                box-shadow: none;
                padding: 0;
                overflow: visible;
                display: block;
            }
            .nota-body {
                padding: 1.5rem;
                overflow: visible;
                background: #FFF;
            }
            .nota-body-content {
                box-shadow: none;
                border: none;
            }

            /* Tampilkan Header Cetak */
            .nota-print-header {
                display: flex !important;
                justify-content: space-between;
                align-items: flex-start;
                padding: 1.5rem;
                border-bottom: 2px solid #333;
            }
            .nota-print-logo {
                font-size: 2rem;
                font-weight: 700;
                color: #000;
            }
            .nota-print-logo span {
                color: #333;
            }
            .nota-print-title {
                text-align: right;
            }
            .nota-print-title h3 {
                font-size: 1.6rem;
                margin: 0 0 5px 0;
                color: #000;
            }
            .nota-print-title span {
                font-size: 1.1rem;
                font-weight: 600;
                color: #333;
            }
            
            .nota-section {
                padding: 1.5rem 0.5rem;
            }
            .nota-section h4 {
                border-bottom: 2px solid #555;
            }
            
            .nota-table {
                width: 100%;
            }
            .nota-table tr {
                border-bottom: 1px solid #ccc;
            }
            .nota-table tbody tr:nth-child(even) {
                background-color: #f7f7f7 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .nota-table td {
                padding: 10px 5px;
                color: #333;
            }
            .nota-table td:first-child {
                font-weight: 600;
                color: #000;
            }
            .nota-table a {
                color: #333;
                text-decoration: none;
            }
            .nota-table a::after {
                content: " (" attr(href) ")";
                font-size: 0.9em;
            }
            
            .nota-catatan-box {
                background: #f7f7f7 !important;
                border: 1px solid #ddd;
                padding: 1rem;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            /* Tampilkan Footer Cetak */
            .nota-print-footer {
                display: block !important;
                text-align: center;
                font-size: 0.9rem;
                color: #777;
                border-top: 1px solid #ccc;
                padding-top: 1.5rem;
                margin: 2rem 1.5rem 1.5rem 1.5rem;
            }
        }


        /* --- Footer --- */
        footer {
            background: var(--dark-text);
            color: var(--light-gray);
            text-align: center;
            padding: 3rem 0;
        }

        footer p {
            font-weight: 400;
            opacity: 0.8;
        }
        
        footer p:first-of-type {
            margin-bottom: 0.5rem;
        }

        footer p a {
            color: var(--white-color);
            text-decoration: none;
            font-weight: 600;
        }
        
        footer p a:hover {
            text-decoration: underline;
        }

        /* --- Tombol WhatsApp Mengambang --- */
        .whatsapp-float {
            position: fixed;
            width: 60px;
            height: 60px;
            bottom: 40px;
            right: 40px;
            background-color: var(--whatsapp-color);
            color: #FFF;
            border-radius: 50px;
            text-align: center;
            font-size: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: transform 0.3s ease;
        }
        
        .whatsapp-float:hover {
            transform: scale(1.1);
        }

        /* --- Responsive (Mobile) --- */
        @media (max-width: 992px) {
            #hero .container {
                flex-direction: column-reverse;
                text-align: center;
            }
            #hero .hero-image { margin-bottom: 2rem; }
            #hero .subheadline { margin-left: auto; margin-right: auto; }
            #hero h1 { font-size: 2.8rem; }
            .form-grid { grid-template-columns: 1fr; }
            .form-group-full { grid-column: 1; }
            #form-pemesanan { padding: 1.5rem; }
        }
        
        @media (max-width: 768px) {
            header .container { flex-wrap: wrap; }
            .hamburger { display: flex; }
            nav {
                width: 100%;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.4s ease-out;
                background: var(--white-color);
                box-shadow: 0 10px 20px rgba(0,0,0,0.05);
                border-radius: 8px;
                margin-top: 1rem;
            }
            nav ul { flex-direction: column; padding: 1rem; align-items: flex-start; }
            nav li { margin: 0; width: 100%; }
            nav a { display: block; padding: 0.8rem; width: 100%; border-radius: 5px; }
            nav a:hover { background: var(--light-gray); }
            .nav-cta { width: auto; margin: 0.5rem 0.8rem; }
            nav.active { max-height: 400px; }
            .hamburger.active .bar:nth-child(2) { opacity: 0; }
            .hamburger.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
            .hamburger.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
            #hero h1 { font-size: 2.2rem; }
            #hero .subheadline { font-size: 1rem; }
            .section-title { font-size: 2rem; }
            .section-subtitle { font-size: 1rem; }
            .whatsapp-float { width: 50px; height: 50px; bottom: 20px; right: 20px; }

            /* Responsive Modal */
            .modal-content {
                padding: 0;
                width: 95%;
            }
            .modal-header { padding: 1rem 1.5rem; }
            .modal-header h2 { font-size: 1.3rem; }
            .nota-body { padding: 1.5rem; }
            .nota-brand-header { flex-direction: column; gap: 1rem; padding: 1.5rem; }
            .nota-brand-code { text-align: left; }
            .nota-section { padding: 1.5rem; }
            .nota-table td:first-child { min-width: 120px; width: 30%; }
            
            .modal-footer {
                flex-direction: column-reverse;
                gap: 1rem;
                align-items: stretch;
                padding: 1.5rem;
            }
            .modal-footer .cta-button, .modal-footer .cta-button-secondary {
                width: 100%;
                margin: 0;
                text-align: center;
            }
            .modal-footer p {
                text-align: center;
            }
        }

    </style>
</head>
<body>

    <a href="https://wa.me/6285647709114?text=Halo%20Admin%20Aneka%20Digital,%20saya%20tertarik%20dengan%20jasa%20Anda." class="whatsapp-float" target="_blank" aria-label="Chat di WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 16 16">
            <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.068-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
        </svg>
    </a>

    <header>
        <div class="container">
            <a href="#hero" class="logo">Aneka<span>Digital</span></a>
            <nav id="nav-menu">
                <ul>
                    <li><a href="#layanan">Layanan</a></li>
                    <li><a href="#order">Cara Pesan</a></li>
                    <li><a href="#galeri">Galeri</a></li>
                    <li><a href="#pesan">Pesan Online</a></li> <li><a href="https://wa.me/6285647709114?text=Halo%20Admin%20Aneka%20Digital" class="nav-cta" target="_blank">Hubungi Kami</a></li>
                </ul>
            </nav>
            <div class="hamburger" id="hamburger-button">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </header>

    <main>
        <section id="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Solusi Cetak <span>Canggih</span> untuk Semua Kebutuhan Anda</h1>
                    <p class="subheadline">Dari cetak foto, undangan, hingga ID card. Dapatkan hasil profesional dengan layanan cepat dan interaktif via WhatsApp.</p>
                    <a href="https://wa.me/6285647709114?text=Halo%20Admin%20Aneka%20Digital,%20saya%20mau%20konsultasi%20cetak." class="cta-button" target="_blank">Mulai Konsultasi (Gratis)</a>
                </div>
                <div class="hero-image">
                    <img src="#" alt="Contoh Tumpukan Undangan Aneka Digital">
                </div>
            </div>
        </section>

        <section id="layanan">
            <div class="container">
                <h2 class="section-title">Layanan Profesional Kami</h2>
                <p class="section-subtitle">Kami mengubah ide Anda menjadi produk cetak berkualitas tinggi dengan teknologi terkini.</p>
                <div class="services-grid">
                    <div class="service-card">
                        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.174C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.174 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.04l-.821 1.316z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z" />
                        </svg>
                        <h3>Cetak & Edit Foto</h3>
                        <p>Cetak foto berkualitas tinggi dan layanan edit foto profesional (retouch, ganti background, dll).</p>
                    </div>
                    
                    <div class="service-card">
                        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                        </svg>
                        <h3>Desain & Cetak Undangan</h3>
                        <p>Desain undangan custom yang mewah dan eksklusif untuk pernikahan, khitan, atau acara spesial.</p>
                    </div>

                    <div class="service-card">
                        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h6m3-3.75l-3 3m0 0l-3-3m3 3V1.5m6 5.25v11.25m-6-11.25v11.25m0 0H5.25m13.5 0H18m-3.75 0h.008v.008h-.008v-.008zm0 0H18m-3.75 0h.008v.008h-.008v-.008zm0 0H18m-3.75 0h.008v.008h-.008v-.008z" />
                        </svg>
                        <h3>Cetak ID Card & Member</h3>
                        <p>Cetak ID Card, kartu member, atau kartu pegawai dengan bahan PVC berkualitas. Tahan lama dan warna tajam.</p>
                    </div>

                    <div class="service-card">
                        <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 12.75c1.148 0 2.082.934 2.082 2.082s-.934 2.082-2.082 2.082-2.082-.934-2.082-2.082.934-2.082 2.082-2.082z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9 9 0 100-18 9 9 0 000 18z" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 12.75c-1.148 0-2.082-.934-2.082-2.082s.934-2.082 2.082-2.082 2.082.934 2.082 2.082-.934 2.082-2.082 2.082z" />
                        </svg>
                        <h3>Cetak & Duplikasi CD/DVD</h3>
                        <p>Duplikasi data dan cetak label langsung di permukaan CD/DVD. Cocok untuk dokumentasi acara atau data penting.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="order">
            <div class="container">
                <h2 class="section-title">Pesan Semudah 1-2-3</h2>
                <p class="section-subtitle">Proses kami dirancang untuk interaksi yang cepat dan efisien langsung ke admin, tanpa backend yang rumit.</p>
                <div class="order-steps">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h3>Hubungi Admin</h3>
                        <p>Klik tombol WhatsApp di website ini untuk terhubung langsung dengan admin kami.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h3>Konsultasi & Kirim File</h3>
                        <p>Jelaskan kebutuhan Anda. Kirim file desain/foto Anda langsung via WhatsApp.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h3>Proses & Bayar</h3>
                        <p>Kami akan konfirmasi total biaya. Setelah pembayaran, pesanan Anda langsung kami proses.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="galeri">
            <div class="container">
                <h2 class="section-title">Galeri Hasil Cetak Kami</h2>
                <p class="section-subtitle">Kualitas adalah prioritas kami. Lihat beberapa contoh pekerjaan yang telah kami selesaikan.</p>
                
                <div class="gallery-grid">
                    <div class="gallery-item"><img src="https://i.imgur.com/jGU8JnU.jpeg" alt="Proses Cetak Undangan"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/aINNdhT.jpeg" alt="Proses Cetak ID Card"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/TbQQw3e.jpeg" alt="Contoh Cetak Foto"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/6C5WKsg.jpeg" alt="Contoh Cetak Disc"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/731UDrZ.jpeg" alt="Tumpukan Undangan"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/AR44IdI.jpeg" alt="Tumpukan ID Card"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/iyAx3pL.jpeg" alt="Tumpukan Disc"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/m6JdUaq.jpeg" alt="Contoh Undangan Lipat 2"></div>
                    <div class="gallery-item"><img src="https://i.imgur.com/minZEhY.jpeg" alt="Contoh Undangan Lipat 3"></div>
                </div>
            </div>
        </section>
        
        <section id="pesan">
            <div class="container">
                <h2 class="section-title">Form Pemesanan Cerdas</h2>
                <p class="section-subtitle">Isi data di bawah untuk membuat draf pesanan Anda. Khususnya untuk undangan dan acara.</p>
                
                <form id="form-pemesanan" novalidate>
                    <div class="form-grid">
                        
                        <div class="form-group form-group-full">
                            <label for="jenis-produk">Pilih Jenis Pesanan</label>
                            <select id="jenis-produk" name="jenis-produk" required>
                                <option value="">-- Pilih Opsi --</option>
                                <option value="undangan">Desain & Cetak Undangan</option>
                                <option value="id-card">Cetak ID Card / Member</option>
                                <option value="cetak-foto">Cetak & Edit Foto</option>
                                <option value="cetak-cd">Cetak & Duplikasi CD/DVD</option>
                                <option value="lainnya">Lainnya</option>
                            </select>
                            <span class="error-message">Wajib dipilih.</span>
                        </div>

                        <div class="form-group">
                            <label for="nama-pemesan">Nama Anda (Pemesan)</label>
                            <input type="text" id="nama-pemesan" name="nama-pemesan" placeholder="Contoh: Chacha" required>
                            <span class="error-message">Nama wajib diisi.</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="wa-pemesan">No. WhatsApp Aktif</label>
                            <input type="tel" id="wa-pemesan" name="wa-pemesan" placeholder="Contoh: 08123456789" required>
                            <span class="error-message">Nomor WhatsApp wajib diisi.</span>
                        </div>
                        
                        <div class="form-group form-group-full" id="grup-jenis-acara">
                            <label for="jenis-acara">Jenis Acara (untuk Undangan)</label>
                            <select id="jenis-acara" name="jenis-acara">
                                <option value="">-- Pilih Jenis Acara --</option>
                                <option value="pernikahan">Pernikahan</option>
                                <option value="khitanan">Khitanan / Sunatan</option>
                                <option value="ulang-tahun">Ulang Tahun</option>
                                <option value="syukuran">Syukuran / Tasyakuran</option>
                                <option value="rapat">Acara Formal / Rapat</option>
                                <option value="lainnya">Lainnya</option>
                            </select>
                        </div>
                        
                        <div class="form-group form-group-full hidden" id="grup-nama-acara">
                            <label for="nama-acara">Nama Acara</label>
                            <input type="text" id="nama-acara" name="nama-acara" placeholder="Contoh: Pernikahan, Tasyakuran Khitan, Rapat Tahunan">
                        </div>

                        <div class="form-group hidden" id="grup-nama-mempelai-pria">
                            <label for="nama-mempelai-pria">Nama Mempelai Pria</label>
                            <input type="text" id="nama-mempelai-pria" name="nama-mempelai-pria" placeholder="Nama Lengkap Pria">
                        </div>

                        <div class="form-group hidden" id="grup-nama-mempelai-wanita">
                            <label for="nama-mempelai-wanita">Nama Mempelai Wanita</label>
                            <input type="text" id="nama-mempelai-wanita" name="nama-mempelai-wanita" placeholder="Nama Lengkap Wanita">
                        </div>

                        <div class="form-group hidden" id="grup-nama-anak">
                            <label for="nama-anak">Nama Anak (yang berhajat)</label>
                            <input type="text" id="nama-anak" name="nama-anak" placeholder="Contoh: Ahmad Zaki, Citra Lestari">
                        </div>
                        
                        <div class="form-group hidden" id="grup-ortu-pria">
                            <label for="ortu-pria">Nama Orang Tua (Pihak Pria/Ayah)</label>
                            <input type="text" id="ortu-pria" name="ortu-pria" placeholder="Bpk. [Nama Ayah] & Ibu. [Nama Ibu]">
                        </div>

                        <div class="form-group hidden" id="grup-ortu-wanita">
                            <label for="ortu-wanita">Nama Orang Tua (Pihak Wanita/Ibu)</label>
                            <input type="text" id="ortu-wanita" name="ortu-wanita" placeholder="Bpk. [Nama Ayah] & Ibu. [Nama Ibu]">
                        </div>
                        
                        <div class="form-group form-group-full hidden" id="grup-tanggal-waktu">
                            <label>Waktu & Tanggal Acara</label>
                            <div class="form-grid" style="gap: 1rem; padding-top: 0.5rem;">
                                <input type="date" id="tanggal-acara" name="tanggal-acara">
                                <input type="time" id="waktu-acara" name="waktu-acara">
                            </div>
                        </div>

                        <div class="form-group form-group-full hidden" id="grup-lokasi">
                            <div class="label-with-button">
                                <label for="lokasi-acara">Link Google Maps Lokasi Acara</label>
                                <button type="button" id="btn-get-gps" class="button-helper">Gunakan Lokasi (GPS)</button>
                            </div>
                            <input type="url" id="lokasi-acara" name="lokasi-acara" placeholder="Contoh: https://www.google.com/maps?q=-8.1,113.7">
                            <p class="note"><b>Wajib diisi untuk undangan.</b> Klik 'Gunakan Lokasi (GPS)' untuk mengisi otomatis, atau cari manual di Google Maps, klik 'Share', lalu 'Copy link', dan tempel (paste) di sini.</p>
                        </div>
                        
                        <div class="form-group form-group-full">
                            <label for="catatan-tambahan">Catatan Tambahan</label>
                            <textarea id="catatan-tambahan" name="catatan-tambahan" placeholder="Jelaskan kebutuhan lain, misal: jumlah cetak, jenis bahan, atau file desain jika sudah ada..."></textarea>
                        </div>
                        
                        <div class="form-group form-group-full" style="text-align: center; margin-top: 1.5rem;">
                            <button type="button" class="cta-button" id="btn-buat-nota">Buat Pra-Nota Pesanan</button>
                        </div>
                        
                    </div>
                </form>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <p>© 2025 <a href="#hero">Aneka Digital</a>. All Rights Reserved.</p>
            <p>Dibuat oleh <a href="https://anekamarket.my.id" target="_blank">AnekaMarket.my.id</a></p>
        </div>
    </footer>
    
    <div class="modal-overlay" id="modal-nota">
        <div class="modal-content" id="modal-nota-content-printable">
            
            <div class="nota-print-header">
                <div class="nota-print-logo">Aneka<span>Digital</span></div>
                <div class="nota-print-title">
                    <h3>PRA-NOTA PESANAN</h3>
                    <span id="nota-kode-print"></span>
                </div>
            </div>

            <div class="modal-header">
                <h2>Pra-Nota Pesanan</h2>
                <button class="modal-close-btn" id="btn-close-modal">×</button>
            </div>
            
            <div class="nota-body">
                <div class="nota-body-content">
                    
                    <div class="nota-brand-header">
                        <div class="nota-brand-logo">
                            Aneka<span>Digital</span>
                        </div>
                        <div class="nota-brand-code">
                            <strong>Kode Pra-Pesanan:</strong>
                            <span id="nota-kode"></span>
                        </div>
                    </div>

                    <div class="nota-section">
                        <h4>1. Detail Pemesan</h4>
                        <table class="nota-table">
                            <tbody>
                                <tr>
                                    <td>Nama Pemesan</td>
                                    <td id="nota-nama-pemesan"></td>
                                </tr>
                                <tr>
                                    <td>Nomor WhatsApp</td>
                                    <td id="nota-wa-pemesan"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="nota-section">
                        <h4>2. Detail Pesanan</h4>
                        <table class="nota-table">
                            <tbody>
                                <tr>
                                    <td>Jenis Pesanan</td>
                                    <td id="nota-jenis-produk"></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <table class="nota-table" id="nota-grup-acara-table">
                            <tbody id="nota-grup-acara-tbody">
                                </tbody>
                        </table>
                    </div>
                    
                    <div class="nota-section">
                        <h4>3. Catatan Tambahan</h4>
                        <p class="nota-catatan-box" id="nota-catatan-tambahan"></p>
                    </div>
                
                </div>
            </div>
            
            <div class="nota-print-footer">
                <p>Ini adalah bukti pra-pesanan, bukan tagihan akhir. Admin akan menghubungi Anda untuk konfirmasi.<br>Terima kasih atas pesanan Anda.</p>
            </div>

            <div class="modal-footer">
                <p>Ini adalah bukti pra-pesanan, bukan tagihan akhir.<br>Silakan kirim ke Admin untuk konfirmasi.</p>
                <div>
                    <button class="cta-button-secondary" id="btn-close-modal-2">Tutup</button>
                    <button class="cta-button-secondary" id="btn-print-nota">Download (PDF)</button>
                    <button class="cta-button" id="btn-kirim-wa">Kirim ke Admin (WA)</button>
                </div>
            </div>
        </div>
    </div>

    
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Skrip Navigasi Hamburger ---
            const hamburgerButton = document.getElementById('hamburger-button');
            const navMenu = document.getElementById('nav-menu');

            hamburgerButton.addEventListener('click', () => {
                hamburgerButton.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
            
            document.querySelectorAll('#nav-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    hamburgerButton.classList.remove('active');
                    navMenu.classList.remove('active');
                });
            });

            // --- [PERBAIKAN] Skrip Helper Tombol GPS (Otomatis) ---
            const btnGetGps = document.getElementById('btn-get-gps');
            const inputLokasi = document.getElementById('lokasi-acara');
            
            if(btnGetGps && inputLokasi) {
                btnGetGps.addEventListener('click', () => {
                    if (!navigator.geolocation) {
                        alert('Browser Anda tidak mendukung fitur Geolocation.');
                        return;
                    }
                    
                    const originalText = btnGetGps.textContent;
                    btnGetGps.textContent = 'Mencari...';
                    btnGetGps.disabled = true;

                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            const lat = position.coords.latitude;
                            const lon = position.coords.longitude;
                            const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
                            
                            inputLokasi.value = mapsLink;
                            
                            btnGetGps.textContent = originalText;
                            btnGetGps.disabled = false;
                        },
                        (error) => {
                            console.error('Geolocation Error:', error);
                            alert('Gagal mendapatkan lokasi. Pastikan Anda mengizinkan akses lokasi di browser Anda.');
                            btnGetGps.textContent = originalText;
                            btnGetGps.disabled = false;
                        }
                    );
                });
            }

            // --- Skrip Form Cerdas (Tidak Berubah) ---
            const jenisProdukSelect = document.getElementById('jenis-produk');
            const jenisAcaraSelect = document.getElementById('jenis-acara');
            
            const grupJenisAcara = document.getElementById('grup-jenis-acara');
            const grupNamaAcara = document.getElementById('grup-nama-acara');
            const grupNamaPria = document.getElementById('grup-nama-mempelai-pria');
            const grupNamaWanita = document.getElementById('grup-nama-mempelai-wanita');
            const grupNamaAnak = document.getElementById('grup-nama-anak');
            const grupOrtuPria = document.getElementById('grup-ortu-pria');
            const grupOrtuWanita = document.getElementById('grup-ortu-wanita');
            const grupTanggalWaktu = document.getElementById('grup-tanggal-waktu');
            const grupLokasi = document.getElementById('grup-lokasi');

            const allEventGroups = [
                grupJenisAcara, grupNamaAcara, grupNamaPria, grupNamaWanita, 
                grupNamaAnak, grupOrtuPria, grupOrtuWanita, grupTanggalWaktu, grupLokasi
            ];

            const hideAllEventFields = () => {
                allEventGroups.forEach(grup => grup.classList.add('hidden'));
            };

            jenisProdukSelect.addEventListener('change', () => {
                const value = jenisProdukSelect.value;
                if (value === 'undangan') {
                    grupJenisAcara.classList.remove('hidden');
                    jenisAcaraSelect.value = '';
                    jenisAcaraSelect.dispatchEvent(new Event('change'));
                } else {
                    hideAllEventFields();
                }
            });

            jenisAcaraSelect.addEventListener('change', () => {
                const value = jenisAcaraSelect.value;
                
                [grupNamaAcara, grupNamaPria, grupNamaWanita, grupNamaAnak, grupOrtuPria, grupOrtuWanita, grupTanggalWaktu, grupLokasi].forEach(g => g.classList.add('hidden'));

                if (!value) return;

                grupNamaAcara.classList.remove('hidden');
                grupTanggalWaktu.classList.remove('hidden');
                grupLokasi.classList.remove('hidden');

                if (value === 'pernikahan') {
                    grupNamaPria.classList.remove('hidden');
                    grupNamaWanita.classList.remove('hidden');
                    grupOrtuPria.classList.remove('hidden');
                    grupOrtuWanita.classList.remove('hidden');
                } else if (value === 'khitanan') {
                    grupNamaAnak.classList.remove('hidden');
                    grupOrtuPria.classList.remove('hidden');
                    grupOrtuWanita.classList.remove('hidden');
                } else if (value === 'ulang-tahun') {
                    grupNamaAnak.classList.remove('hidden');
                }
            });

            // --- [PERBAIKAN] Skrip Validasi & Modal Nota (Disesuaikan Desain Baru) ---
            const btnBuatNota = document.getElementById('btn-buat-nota');
            const modal = document.getElementById('modal-nota');
            const btnCloseModal = document.getElementById('btn-close-modal');
            const btnCloseModal2 = document.getElementById('btn-close-modal-2');
            const btnPrintNota = document.getElementById('btn-print-nota');
            const btnKirimWa = document.getElementById('btn-kirim-wa');
            
            const form = document.getElementById('form-pemesanan');
            const requiredFields = form.querySelectorAll('[required]');

            // Fungsi validasi sederhana
            const validateForm = () => {
                let isValid = true;
                requiredFields.forEach(field => {
                    const group = field.closest('.form-group');
                    if (!field.value) {
                        group.classList.add('error');
                        isValid = false;
                    } else {
                        group.classList.remove('error');
                    }
                });
                return isValid;
            };

            // Fungsi Buka/Tutup Modal
            const openModal = () => modal.classList.add('active');
            const closeModal = () => modal.classList.remove('active');

            // Event listener untuk tombol Buat Nota
            btnBuatNota.addEventListener('click', () => {
                if (validateForm()) {
                    // 1. Generate Kode Pesanan (Untuk Layar & Cetak)
                    const kodePesanan = 'AD-' + Date.now().toString().slice(-6);
                    document.getElementById('nota-kode').textContent = kodePesanan;
                    document.getElementById('nota-kode-print').textContent = kodePesanan; // BARU

                    // 2. Ambil data & isi ke Nota
                    document.getElementById('nota-nama-pemesan').textContent = document.getElementById('nama-pemesan').value;
                    document.getElementById('nota-wa-pemesan').textContent = document.getElementById('wa-pemesan').value;
                    
                    const produkSelect = document.getElementById('jenis-produk');
                    document.getElementById('nota-jenis-produk').textContent = produkSelect.options[produkSelect.selectedIndex].text;
                    
                    const catatan = document.getElementById('catatan-tambahan').value || '(Tidak ada)';
                    document.getElementById('nota-catatan-tambahan').innerHTML = catatan.replace(/\n/g, '<br>');

                    // 3. Ambil data acara (jika ada)
                    const containerAcaraTbody = document.getElementById('nota-grup-acara-tbody');
                    containerAcaraTbody.innerHTML = ''; // Kosongkan dulu
                    
                    const addNotaItem = (label, value, isHtml = false) => {
                        if (value) {
                            const newRow = containerAcaraTbody.insertRow();
                            const cell1 = newRow.insertCell(0);
                            const cell2 = newRow.insertCell(1);
                            
                            cell1.textContent = label;
                            
                            if (isHtml) {
                                cell2.innerHTML = value;
                            } else {
                                cell2.textContent = value;
                            }
                        }
                    };
                    
                    if (jenisProdukSelect.value === 'undangan' && jenisAcaraSelect.value) {
                        const acaraSelect = document.getElementById('jenis-acara');
                        addNotaItem('Jenis Acara', acaraSelect.options[acaraSelect.selectedIndex].text);
                        addNotaItem('Nama Acara', document.getElementById('nama-acara').value);
                        addNotaItem('Nama Mempelai Pria', document.getElementById('nama-mempelai-pria').value);
                        addNotaItem('Nama Mempelai Wanita', document.getElementById('nama-mempelai-wanita').value);
                        addNotaItem('Nama Anak', document.getElementById('nama-anak').value);
                        addNotaItem('Orang Tua (Pihak Pria/Ayah)', document.getElementById('ortu-pria').value);
                        addNotaItem('Orang Tua (Pihak Wanita/Ibu)', document.getElementById('ortu-wanita').value);
                        
                        const tgl = document.getElementById('tanggal-acara').value;
                        const waktu = document.getElementById('waktu-acara').value;
                        if (tgl || waktu) {
                            let tglFormatted = tgl;
                            if (tgl) {
                                try {
                                    const tglObj = new Date(tgl + 'T00:00:00'); // Hindari masalah zona waktu
                                    tglFormatted = tglObj.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
                                } catch (e) { /* biarkan format aslinya jika error */ }
                            }
                            addNotaItem('Waktu Acara', `${tglFormatted} ${waktu ? 'Pukul ' + waktu : ''}`.trim());
                        }
                        
                        const lokasiValue = document.getElementById('lokasi-acara').value;
                        if(lokasiValue) {
                            if (lokasiValue.startsWith('http')) {
                                addNotaItem('Lokasi Acara', `<a href="${lokasiValue}" target="_blank" rel="noopener noreferrer">Lihat Lokasi</a>`, true);
                            } else {
                                addNotaItem('Lokasi Acara', lokasiValue);
                            }
                        }
                    }
                    
                    // 4. Tampilkan Modal
                    openModal();
                } else {
                    alert('Harap isi semua field yang wajib (ditandai merah).');
                }
            });

            // Event listener untuk tombol tutup modal
            btnCloseModal.addEventListener('click', closeModal);
            btnCloseModal2.addEventListener('click', closeModal);

            // Event listener untuk Download (PDF) / Cetak
            btnPrintNota.addEventListener('click', () => {
                window.print();
            });

            // --- Fungsi Kirim ke WhatsApp (Tidak berubah) ---
            const formatNotaForWhatsApp = () => {
                const adminNomor = '6285647709114';
                
                const addLine = (label, value) => {
                    if (value && value.trim() !== '' && value.trim() !== '(Tidak ada)') {
                        const cleanValue = value.replace(/<br\s*\/?>/gi, '\n');
                        return `*${label}:* ${cleanValue}\n`;
                    }
                    return '';
                };

                let message = "Halo Admin Aneka Digital, saya mau pesan:\n\n";
                message += "--- *DETAIL PEMESAN* ---\n";
                message += addLine('Nama Pemesan', document.getElementById('nama-pemesan').value);
                message += addLine('No. WhatsApp', document.getElementById('wa-pemesan').value);
                
                message += "\n--- *DETAIL PESANAN* ---\n";
                const produkSelect = document.getElementById('jenis-produk');
                const produkText = produkSelect.options[produkSelect.selectedIndex].text;
                message += addLine('Jenis Pesanan', produkText);

                if (document.getElementById('jenis-produk').value === 'undangan' && document.getElementById('jenis-acara').value) {
                    const acaraSelect = document.getElementById('jenis-acara');
                    const acaraText = acaraSelect.options[acaraSelect.selectedIndex].text;
                    
                    message += addLine('Jenis Acara', acaraText);
                    message += addLine('Nama Acara', document.getElementById('nama-acara').value);
                    message += addLine('Mempelai Pria', document.getElementById('nama-mempelai-pria').value);
                    message += addLine('Mempelai Wanita', document.getElementById('nama-mempelai-wanita').value);
                    message += addLine('Nama Anak', document.getElementById('nama-anak').value);
                    message += addLine('Ortu Pria/Ayah', document.getElementById('ortu-pria').value);
                    message += addLine('Ortu Wanita/Ibu', document.getElementById('ortu-wanita').value);
                    
                    const tgl = document.getElementById('tanggal-acara').value;
                    const waktu = document.getElementById('waktu-acara').value;
                    if (tgl || waktu) {
                        let tglFormatted = tgl;
                        if (tgl) {
                            try {
                                const tglObj = new Date(tgl + 'T00:00:00');
                                tglFormatted = tglObj.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
                            } catch (e) { /* biarkan */ }
                        }
                        message += addLine('Waktu Acara', `${tglFormatted} ${waktu ? 'Pukul ' + waktu : ''}`.trim());
                    }
                    message += addLine('Lokasi Acara (Link)', document.getElementById('lokasi-acara').value);
                }

                message += "\n"; 
                message += addLine('Catatan Tambahan', document.getElementById('catatan-tambahan').value || '(Tidak ada)');
                
                message += `\n\nKode Pra-Pesanan: ${document.getElementById('nota-kode').textContent}\n`;
                message += "Mohon konfirmasi dan info total biayanya. Terima kasih.";

                const encodedMessage = encodeURIComponent(message);
                window.open(`https://wa.me/${adminNomor}?text=${encodedMessage}`, '_blank');
            };

            // Event listener untuk tombol Kirim WA
            btnKirimWa.addEventListener('click', formatNotaForWhatsApp);

            // Inisialisasi form
            hideAllEventFields();
            
        });
    </script>

</body>
</html>
